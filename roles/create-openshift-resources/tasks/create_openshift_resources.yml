---
- name: "Set Default Resources Facts"
  set_fact:
    projects_present: false
    openShift_resources: "{{ openShift_cluster.openShift_resources }}" # http://docs.ansible.com/ansible/playbooks_loops.html#loops-and-includes-in-2-0

- name: "Set Variable projects_present Fact"
  set_fact:
    projects_present: true
  when: openShift_resources.projects is defined and openShift_resources.projects != "" and openShift_resources.projects|length > 0

- include: create_project.yml
  with_items: '{{ openShift_resources.projects }}'
  loop_control:
    loop_var: project_item
  static: no
  when: projects_present == true

- name: "Alert User No OpenShift Projects Were Declared"
  debug:
    msg: "There were no projects set for your openShift_resources. This is key data for this role, so you may want to check that you do not have typo in the request."
  when: projects_present == false

